<nav class="component__nav-aside" id="side-menu">
    
    {{ $contentsPath := "./app/contents" }}
    {{ $section := .Section }}
    {{ $parent := .Parent }}
    {{ $currentPage := . }}    
    
    <nav class="menu__breadcrumbs" aria-label="You are here">
        <a href="{{ $parent.URL | relLangURL }}" class="{{ if $parent.IsHome }}is-root{{ end }}">
            {{ if $parent.IsHome }}
                /
            {{ else }}
                {{ $parent.Name }}
            {{ end }}
        </a>
    </nav>
    
    <div class="menu__wrap">
        {{ $currentSectionPath := .Dir }}
        
        <ul class="menu__level menu__level--current">
        {{ if .Pages }}
            
            {{ range sort .Pages ".Params.model" "asc" }}
            <li class="menu__item" data="page">
                <a class="menu__link {{ if eq . $currentPage }}menu__link--current{{ end }}"
                   href="{{ .URL | relLangURL }}">
                    {{ .Params.model }}
                </a>
            </li>
            {{ end }}        
        
        {{ else }}
            
            {{ range sort .Sections "Params.weight" "asc" }}
            {{ if .IsNode }}
            <li class="menu__item" data="node">
                <a class="menu__link {{ if eq . $currentPage }}menu__link--current{{ end }}"
                   data-submenu="submenu--{{ delimit (split (trim .URL "/") "/") "-" }}" 
                   href="{{ .URL | relLangURL }}">
                    {{ .LinkTitle }}
                </a>
            </li>
            {{ end }}
            {{ end }}
            
        {{ end }}
            
        
        </ul>
    </div>
</nav>
